/*! gumshoejs v5.1.2 | (c) 2021 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/gumshoe */
Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null}),(function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e})(),(function(e,t){"function"==typeof define&&define.amd?define([],(function(){return t(e)})):"object"==typeof exports?module.exports=t(e):e.Gumshoe=t(e)})("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,(function(e){var t={containerSelector:null,container:null,navClass:"active",contentClass:"active",nested:!1,nestedClass:"active",offset:0,reflow:!1,events:!0},n=function(e,t,n){if(n.settings.events){var o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t.dispatchEvent(o)}},o=function(e){var t=0;if(e.offsetParent)for(;e;)t+=e.offsetTop,e=e.offsetParent;return t>=0?t:0},c=function(e){e&&e.sort((function(e,t){return o(e.content)<o(t.content)?-1:1}))},r=function(e,t,n){var o=e.getBoundingClientRect(),c=i(t),r=(function(e){return"function"==typeof e.offset?parseFloat(e.offset()):parseFloat(e.offset)})(t);return n?parseInt(o.bottom,10)<c:parseInt(o.top,10)<=r},i=function(t){return t.container.self===e?e.innerHeight||document.documentElement.clientHeight:container.clientHeight},s=function(t){return t.container.self===e?Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight):t.container.scrollHeight},l=function(t){var n=i(t),o=(function(t){return t.container.self===e?e.pageYOffset:t.container.scrollTop})(t);return console.log("isAtBottom / containerHeight",n),console.log("isAtBottom / scrollOffset",o),console.log("isAtBottom / window.innerHeight + window.pageYOffset",n+o),console.log("getDocumentHeight()",s(t)),n+o>=s(t)},a=function(e,t){var n=e[e.length-1];if(function(e,t){return!(!l(t)||!r(e.content,t,!0))}(n,t))return n;for(var o=e.length-1;o>=0;o--)if(r(e[o].content,t))return e[o]},u=function(e,t){if(t.nested&&e.parentNode){var n=e.parentNode.closest("li");n&&(n.classList.remove(t.nestedClass),u(n,t))}},f=function(e,t){if(e){var o=e.nav.closest("li");o&&(o.classList.remove(t.navClass),e.content.classList.remove(t.contentClass),u(o,t),n("gumshoeDeactivate",o,{link:e.nav,content:e.content,settings:t}))}},d=function(e,t){if(t.nested){var n=e.parentNode.closest("li");n&&(n.classList.add(t.nestedClass),d(n,t))}};return function(o,r){var i,s,l,u,m,v={};v.setup=function(){i=document.querySelectorAll(o),s=[],Array.prototype.forEach.call(i,(function(e){var t=document.getElementById(decodeURIComponent(e.hash.substr(1)));t&&s.push({nav:e,content:t})})),c(s)},v.detect=function(){var e=a(s,m);e?l&&e.content===l.content||(f(l,m),(function(e,t){if(e){var o=e.nav.closest("li");o&&(o.classList.add(t.navClass),e.content.classList.add(t.contentClass),d(o,t),n("gumshoeActivate",o,{link:e.nav,content:e.content,settings:t}))}})(e,m),l=e):l&&(f(l,m),l=null)};var p=function(t){u&&e.cancelAnimationFrame(u),u=e.requestAnimationFrame(v.detect)},h=function(t){u&&e.cancelAnimationFrame(u),u=e.requestAnimationFrame((function(){c(s),v.detect()}))};v.destroy=function(){l&&f(l,m),m.container.removeEventListener("scroll",p,!1),m.reflow&&e.removeEventListener("resize",h,!1),s=null,i=null,l=null,u=null,m=null};return(m=(function(){var e={};return Array.prototype.forEach.call(arguments,(function(t){for(var n in t){if(!t.hasOwnProperty(n))return;e[n]=t[n]}})),e})(t,r||{})).container||(m.containerSelector?m.container=document.querySelector(m.containerSelector):m.container=e),console.log("setting",m),v.setup(),v.detect(),m.container.addEventListener("scroll",p,!1),m.reflow&&e.addEventListener("resize",h,!1),v}}));